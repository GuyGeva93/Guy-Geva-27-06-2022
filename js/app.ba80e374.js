(function(){"use strict";var t={3156:function(t,e,r){var a=r(144),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-main",[r("NavBar"),r("router-view"),r("Footer")],1)],1)},n=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app-bar",{staticClass:"nav-drawer",attrs:{dense:""}},[r("div",{staticClass:"d-flex align-center"},[r("span",[t._v("G-Weather")])]),r("v-spacer"),r("span",[r("v-btn",{on:{click:function(e){e.stopPropagation(),t.$vuetify.theme.dark=!t.$vuetify.theme.dark}}},[r("v-icon",{attrs:{size:"28"}},[t._v("mdi-lightbulb-on-outline")])],1)],1),r("span",{staticClass:"hidden-sm-and-up"},[r("v-btn",{attrs:{depressed:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[r("v-icon",[t._v("mdi-menu")])],1)],1),r("ToolBarItems"),r("v-navigation-drawer",{staticClass:"nav-drawer",attrs:{absolute:"",temporary:"",right:"",height:"50vh"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",t._l(t.items,(function(e){return r("v-list-item",{key:e.title,attrs:{to:e.link,link:""}},[r("v-list-item-icon",{attrs:{small:""}},[r("v-icon",[t._v("mdi-"+t._s(e.icon))])],1),t._v(" "+t._s(e.title)+" ")],1)})),1)],1)],1)},s=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-toolbar-items",{staticClass:"hidden-xs-only"},[r("v-btn",{attrs:{to:"/",text:""}},[r("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-home")]),t._v(" Home ")],1),r("v-btn",{attrs:{to:"/favorites",text:""}},[r("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-star")]),t._v(" Favorites ")],1)],1)},l=[],u=r(3736),v=r(3453),f=r.n(v),d=r(6190),m=r(4324),h=r(7953),p={},y=(0,u.Z)(p,c,l,!1,null,null,null),g=y.exports;f()(y,{VBtn:d.Z,VIcon:m.Z,VToolbarItems:h.lj});var _={data(){return{drawer:!1,items:[{title:"Home",link:"/",icon:"home"},{title:"Favorites",link:"favorites",icon:"star"}]}},components:{ToolBarItems:g}},C=_,b=r(6232),F=r(5808),Z=r(4525),w=r(4611),x=r(6733),L=r(3687),V=(0,u.Z)(C,i,s,!1,null,"d3fb401a",null),$=V.exports;f()(V,{VAppBar:b.Z,VBtn:d.Z,VIcon:m.Z,VList:F.Z,VListItem:Z.Z,VListItemIcon:w.Z,VNavigationDrawer:x.Z,VSpacer:L.Z});var k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-footer",{staticClass:"justify-center",attrs:{absolute:""}},[t._v("© Guy Geva 2022")])},I=[],S=r(8271),j={},N=(0,u.Z)(j,k,I,!1,null,null,null),O=N.exports;f()(N,{VFooter:S.Z});var T={name:"App",components:{NavBar:$,Footer:O}},W=T,D=r(998),E=r(3059),P=(0,u.Z)(W,o,n,!1,null,null,null),B=P.exports;f()(P,{VApp:D.Z,VMain:E.Z});var q=r(8345),A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.currLocation?r("v-container",[r("CitySearch"),r("v-row",[r("v-col",{staticClass:"d-flex",class:{"justify-center":t.$vuetify.breakpoint.xsOnly},attrs:{cols:"12",sm:"6"}},[r("h2",[r("v-icon",[t._v("mdi-map-marker")]),t._v(" "+t._s(t.currLocation[0].LocationName)+" ")],1)]),r("v-col",{staticClass:"d-flex justify-end",class:{"justify-center":t.$vuetify.breakpoint.xsOnly},attrs:{cols:"12",sm:"6"}},[t.currLocation[0].IsFavorite?r("v-btn",{attrs:{depressed:"",disabled:t.currLocation[0].IsFavorite}},[t._v(" Location on favorites! ")]):r("v-btn",{attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),t.favorites.apply(null,arguments)}}},[t._v("Add To Favorites")])],1)],1),r("v-sheet",{staticClass:"d-flex justify-center align-center header-display text-center",attrs:{height:"200"}},[t._v(" "+t._s(t.currLocation[0].Day.IconPhrase)+" ")]),r("CityForecast",{attrs:{locationWeather:t.currLocation}})],1):t._e()},M=[],R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",[r("v-spacer"),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-autocomplete",{directives:[{name:"debounce",rawName:"v-debounce",value:t.search,expression:"search"}],attrs:{loading:t.isLoading,label:"Search for a place..",items:t.items},on:{keydown:function(e){t.isLoading=!0},blur:function(e){t.isLoading=!1}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),r("v-spacer")],1)},G=[];const H="r5oVA7p3VRNxxaxROGl1Xa5miQ1RbFET",z={saveToStorage:J,loadFromStorage:Q};function J(t,e){var r=JSON.stringify(e);localStorage.setItem(t,r)}function Q(t){var e=localStorage.getItem(t),r=JSON.parse(e);return r}var K=r(5934);const U=r(9669),X="https://dataservice.accuweather.com",Y="215854",tt={getCurrentWeather:et,getFiveDayForecast:rt,autoComplete:at};async function et(t){try{const e=await U.get(`${X}/currentconditions/v1/${t}?apikey=${H}&details=false`);return e.data}catch(e){console.log("Error =>",e)}}async function rt(t=Y,e="Tel Aviv",r=!1){let a=z.loadFromStorage(e.toLowerCase());if(!a||!a.length)try{const r=await U.get(`${X}/forecasts/v1/daily/5day/${t}?apikey=${H}&metric=true`);return r.data.DailyForecasts[0].Id=(0,K.Z)(),r.data.DailyForecasts[0].LocationName=e,r.data.DailyForecasts[0].LocationCode=t,r.data.DailyForecasts[0].IsFavorite=!1,z.saveToStorage(e.toLowerCase(),r.data.DailyForecasts),r.data.DailyForecasts}catch(o){console.log("Error =>",o)}return a[0].IsFavorite=r,a}async function at(t){if(t)try{const e=await U.get(`${X}/locations/v1/cities/autocomplete?apikey=${H}&q=${t}`);let r=e.data.map((t=>{let e={[t.Key]:t.LocalizedName};return e}));return r}catch(e){console.log("Error =>",e)}}var ot={data(){return{locations:null,items:null,isLoading:!1,query:null}},methods:{async search(t){t&&(this.locations=await tt.autoComplete(t),this.items=this.locations.map((t=>{const e={text:Object.values(t),value:Object.keys(t)};return e})),this.isLoading=!1)}},watch:{async query(t){if(!this.query)return;const e=this.items.find((t=>{if(t.value===this.query)return t.text}));await this.$store.dispatch("fetchWeather",{locationCode:t,locationName:e.text[0]}),this.isLoading=!1}}},nt=ot,it=r(4382),st=r(266),ct=r(1713),lt=(0,u.Z)(nt,R,G,!1,null,null,null),ut=lt.exports;f()(lt,{VAutocomplete:it.Z,VCol:st.Z,VRow:ct.Z,VSpacer:L.Z});var vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"d-flex justify-center flex-wrap gap",class:{"justify-space-between":t.$vuetify.breakpoint.mdAndUp&&!t.favorites}},t._l(t.locationWeather,(function(e){return r("v-card",{key:e.Id,staticClass:"card text-center"},[t.favorites?r("v-card-title",{staticClass:"justify-center"},[t._v(" "+t._s(e.LocationName)+" ")]):r("v-card-title",{staticClass:"justify-center"},[t._v(" "+t._s(t.getDay(e.Date))+" ")]),r("v-card-subtitle",{staticClass:"justify-center pa-4"},[t._v(" "+t._s(e.Day.IconPhrase)+" ")]),r("v-card-text",{staticClass:"pa-2"},[t._v(t._s(e.Temperature.Maximum.Value)+"℃")]),t.favorites?r("v-card-actions",{staticClass:"flex-column justify-center gap"},[r("v-btn",{staticClass:"text-center",attrs:{color:"error"},on:{click:function(r){return r.stopPropagation(),t.removeFromFavorites(e.Id)}}},[t._v(" Remove ")]),r("v-btn",{attrs:{color:"primary"},on:{click:function(r){return t.forecastLocation(e.LocationCode[0],e.LocationName)}}},[t._v(" Week forecast ")])],1):t._e()],1)})),1)},ft=[],dt={props:{locationWeather:{type:Array,default:null,require:!1},favorites:{type:Boolean,default:!1,require:!1}},methods:{getDay(t){const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=new Date(t);return e[r.getDay()]},removeFromFavorites(t){this.$store.commit("removeFavorite",t)},async forecastLocation(t,e){await this.$store.dispatch("fetchWeather",{locationCode:t,locationName:e,fromFavorites:!0}),this.$router.push("/")}}},mt=dt,ht=r(9582),pt=r(4886),yt=r(2118),gt=(0,u.Z)(mt,vt,ft,!1,null,"05c05e58",null),_t=gt.exports;f()(gt,{VBtn:d.Z,VCard:ht.Z,VCardActions:pt.h7,VCardSubtitle:pt.Qq,VCardText:pt.ZB,VCardTitle:pt.EB,VContainer:yt.Z});var Ct={name:"Home",components:{CitySearch:ut,CityForecast:_t},async created(){this.currLocation||await this.$store.dispatch("fetchWeather",{locationCode:null,locationName:null})},data(){return{defLocation:null,items:null}},computed:{currLocation(){return this.$store.getters.currLocation},locationName(){return this.$store.getters.locationName},isFavorites(){return this.$store.getters.isFavorite}},methods:{favorites(){this.$store.commit("addFavorite",this.currLocation[0])}}},bt=Ct,Ft=r(7423),Zt=(0,u.Z)(bt,A,M,!1,null,"6c02f1c2",null),wt=Zt.exports;f()(Zt,{VBtn:d.Z,VCol:st.Z,VContainer:yt.Z,VIcon:m.Z,VRow:ct.Z,VSheet:Ft.Z});var xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.favorites.length?r("v-container",[r("v-sheet",{staticClass:"justify-center text-center header-display",attrs:{height:"200"}},[t._v(" My Favorites Places ")]),r("CityForecast",{attrs:{locationWeather:t.favorites,favorites:!0}})],1):r("v-container",{staticClass:"text-center"},[r("v-sheet",{staticClass:"text-center header-display",attrs:{height:"200"}},[t._v(" No favorites yet! ")])],1)},Lt=[],Vt={components:{CityForecast:_t},computed:{favorites(){return this.$store.getters.favorites}}},$t=Vt,kt=(0,u.Z)($t,xt,Lt,!1,null,"87273744",null),It=kt.exports;f()(kt,{VContainer:yt.Z,VSheet:Ft.Z}),a.Z.use(q.Z);const St=[{path:"/",name:"home",component:wt},{path:"/favorites",name:"favorites",component:It}],jt=new q.Z({routes:St});var Nt=jt,Ot=r(629);a.Z.use(Ot.ZP);var Tt=new Ot.ZP.Store({state:{currLocationWeather:null,favorites:[]},getters:{currLocation({currLocationWeather:t}){return t},favorites({favorites:t}){return t},isFavorite({currLocationWeather:t}){return t.isFavorite}},mutations:{setCurrLocation(t,e){t.currLocationWeather=e},addFavorite(t,e){e.IsFavorite=!0,t.currLocationWeather[0].IsFavorite=!0,t.favorites.push(e)},removeFavorite(t,e){const r=t.favorites.findIndex((t=>t.Id===e));if(r<0)return"error";t.currLocationWeather[0].IsFavorite=!1,t.favorites.splice(r,1)},setLocationName(t,e){t.locationName=e},isFavorites(t,e){if(!t.favorites)return!1;const r=t.favorites.findIndex((t=>t.LocationCode===e));return!(r<0)}},actions:{async fetchWeather({commit:t},{locationCode:e,locationName:r,fromFavorites:a=!1}){try{if(!e||!r){const e=await tt.getFiveDayForecast();return void t("setCurrLocation",e)}const o=await tt.getFiveDayForecast(e,r,a);t("setCurrLocation",o)}catch(o){console.log("Error =>",o)}}},modules:{}}),Wt=r(1705);a.Z.use(Wt.Z);var Dt=new Wt.Z({}),Et=r(2892),Pt=r.n(Et);a.Z.config.productionTip=!1,a.Z.use(Pt(),{lock:!1,listenTo:"keyup",defaultTime:"3000ms",fireOnEmpty:!1,trim:!1}),new a.Z({router:Nt,store:Tt,vuetify:Dt,render:t=>t(B)}).$mount("#app")}},e={};function r(a){var o=e[a];if(void 0!==o)return o.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,a,o,n){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],o=t[u][1],n=t[u][2];for(var s=!0,c=0;c<a.length;c++)(!1&n||i>=n)&&Object.keys(r.O).every((function(t){return r.O[t](a[c])}))?a.splice(c--,1):(s=!1,n<i&&(i=n));if(s){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[a,o,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,n,i=a[0],s=a[1],c=a[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)var u=c(r)}for(e&&e(a);l<i.length;l++)n=i[l],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(u)},a=self["webpackChunkvue_weather"]=self["webpackChunkvue_weather"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(3156)}));a=r.O(a)})();
//# sourceMappingURL=app.ba80e374.js.map